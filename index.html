<!DOCTYPE html>

<head>
  <link type="text/css" rel="stylesheet" href="stylesheet.css" />
</head>

<body>
  <div id="buttons">
    <div class="button" id="rock">rock</div>
    <div class="button" id="paper">paper</div>
    <div class="button" id="scissors">scissors</div>
  </div>
  <div id="results">
    <div class="score">
      Human:
      <div id="player-score">0</div>
    </div>
    <div class="score">
      Computer:
      <div id="computer-score">0</div>
    </div>
  </div>
</body>

<script>
  function computerPlay() {
    let pickrandom = Math.floor(Math.random() * 3);
    switch (pickrandom) {
      case 0:
        return "rock";
      case 1:
        return "paper";
      case 2:
        return "scissors";
    }
  }
  function playRound(playerSelection, computerSelection) {
    if (
      (playerSelection == "rock" && computerSelection == "scissors") ||
      (playerSelection == "paper" && computerSelection == "rock") ||
      (playerSelection == "scissors" && computerSelection == "paper")
    ) {
      return "win";
    } else if (
      (computerSelection == "rock" && playerSelection == "scissors") ||
      (computerSelection == "paper" && playerSelection == "rock") ||
      (computerSelection == "scissors" && playerSelection == "paper")
    ) {
      return "loss";
    } else {
      return "tie";
    }
  }
  
  function updateScore(gameResult, playerScore, computerScore) {
    switch (gameResult) {
        case "win":
          playerScore += 1;
          break;
        case "loss":
          computerScore += 1;
          break;
        case "tie":
          break;
      }
    return [playerScore, computerScore];
  }

  function game() {
    let playerScore = 0;
    let computerScore = 0;
    document.getElementById("rock").addEventListener("click", function () {
      console.log("You choose: rock");
      let computerSelection = computerPlay();
      console.log("Computer chooses: ", computerSelection);
      gameResult = playRound("rock", computerSelection);
      console.log(gameResult);
      updatedScores = updateScore(gameResult, playerScore, computerScore);
      playerScore = updatedScores[0];
      computerScore = updatedScores[1];
      console.log("playerScore: ", playerScore);
      console.log("computerScore: ", computerScore);      
      document.getElementById("player-score").innerHTML = playerScore;
      document.getElementById("computer-score").innerHTML = computerScore;
    });
    document.getElementById("paper").addEventListener("click", function () {
      console.log("You choose: paper");
      let computerSelection = computerPlay();
      console.log("Computer chooses: ", computerSelection);
      gameResult = playRound("paper", computerSelection);
      console.log(gameResult);
      updatedScores = updateScore(gameResult, playerScore, computerScore);
      playerScore = updatedScores[0];
      computerScore = updatedScores[1];
      console.log("playerScore: ", playerScore);
      console.log("computerScore: ", computerScore);
      document.getElementById("player-score").innerHTML = playerScore;
      document.getElementById("computer-score").innerHTML = computerScore;
    });
    document.getElementById("scissors").addEventListener("click", function () {
      console.log("You choose: scissors");
      let computerSelection = computerPlay();
      console.log("Computer chooses: ", computerSelection);
      gameResult = playRound("scissors", computerSelection);
      console.log(gameResult);
      updatedScores = updateScore(gameResult, playerScore, computerScore);
      playerScore = updatedScores[0];
      computerScore = updatedScores[1];
      console.log("playerScore: ", playerScore);
      console.log("computerScore: ", computerScore);
      document.getElementById("player-score").innerHTML = playerScore;
      document.getElementById("computer-score").innerHTML = computerScore;
    });
    if (playerScore > computerScore) {
      console.log(
        "You Win! You won " +
          playerScore +
          " rounds and computer won " +
          computerScore +
          " rounds."
      );
    } else if (computerScore > playerScore) {
      console.log(
        "You Lose! You won " +
          playerScore +
          " rounds and computer won " +
          computerScore +
          " rounds."
      );
    } else {
      console.log(
        "It's a tie. You won " +
          playerScore +
          " rounds and computer won " +
          computerScore +
          " rounds."
      );
    }
  }
  game();
</script>
